import"./index-BoN9lWja.js";import{a3 as Ba,E as Br,_ as E,p as va,j as K,A as Na,a5 as ca,v as ka,x as Ea,g as ar,f as Ta,a as _,k as Aa,a4 as Fa,w as ja}from"./index-c-eVI8SP.js";import{C as Wa,a as Ke,i as fa,_ as Ua}from"./CSSMotionList-4Nb43TCA.js";import{r as n}from"./index-BCtMShv3.js";import{r as Va}from"./index-DR9qmNxJ.js";import{R as Ha}from"./index-DxFj3p0l.js";import{g as da}from"./AntdIcon-CurcBfQd.js";import{u as _a}from"./useId-yJeUZZMB.js";import{i as qa}from"./isMobile-DjGTsQxe.js";import{i as Qa}from"./isVisible-DhUEo0yb.js";const ua=()=>({height:0,opacity:0}),ga=e=>{const{scrollHeight:a}=e;return{height:a,opacity:1}},Ia=e=>({height:e?e.offsetHeight:0}),la=(e,a)=>(a==null?void 0:a.deadline)===!0||a.propertyName==="height",Dt=function(){return{motionName:`${arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ba}-motion-collapse`,onAppearStart:ua,onEnterStart:ua,onAppearActive:ga,onEnterActive:ga,onLeaveStart:Ia,onLeaveActive:ua,onAppearEnd:la,onEnterEnd:la,onLeaveEnd:la,motionDeadline:500}},$t=(e,a,r)=>r!==void 0?r:`${e}-${a}`,Ja=e=>({animationDuration:e,animationFillMode:"both"}),Ga=e=>({animationDuration:e,animationFillMode:"both"}),Lt=function(e,a,r,t){const u=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1)?"&":"";return{[`
      ${u}${e}-enter,
      ${u}${e}-appear
    `]:Object.assign(Object.assign({},Ja(t)),{animationPlayState:"paused"}),[`${u}${e}-leave`]:Object.assign(Object.assign({},Ga(t)),{animationPlayState:"paused"}),[`
      ${u}${e}-enter${e}-enter-active,
      ${u}${e}-appear${e}-appear-active
    `]:{animationName:a,animationPlayState:"running"},[`${u}${e}-leave${e}-leave-active`]:{animationName:r,animationPlayState:"running",pointerEvents:"none"}}};var Ra=n.createContext(null),ya=[];function Ka(e,a){var r=n.useState(function(){if(!Br())return null;var d=document.createElement("div");return d}),t=E(r,1),o=t[0],u=n.useRef(!1),s=n.useContext(Ra),c=n.useState(ya),m=E(c,2),h=m[0],k=m[1],g=s||(u.current?void 0:function(d){k(function(S){var b=[d].concat(va(S));return b})});function y(){o.parentElement||document.body.appendChild(o),u.current=!0}function v(){var d;(d=o.parentElement)===null||d===void 0||d.removeChild(o),u.current=!1}return K(function(){return e?s?s(y):y():v(),v},[e]),K(function(){h.length&&(h.forEach(function(d){return d()}),k(ya))},[h]),[o,g]}var sa;function za(e){var a="rc-scrollbar-measure-".concat(Math.random().toString(36).substring(7)),r=document.createElement("div");r.id=a;var t=r.style;t.position="absolute",t.left="0",t.top="0",t.width="100px",t.height="100px",t.overflow="scroll";var o,u;if(e){var s=getComputedStyle(e);t.scrollbarColor=s.scrollbarColor,t.scrollbarWidth=s.scrollbarWidth;var c=getComputedStyle(e,"::-webkit-scrollbar"),m=parseInt(c.width,10),h=parseInt(c.height,10);try{var k=m?"width: ".concat(c.width,";"):"",g=h?"height: ".concat(c.height,";"):"";Na(`
#`.concat(a,`::-webkit-scrollbar {
`).concat(k,`
`).concat(g,`
}`),a)}catch(d){console.error(d),o=m,u=h}}document.body.appendChild(r);var y=e&&o&&!isNaN(o)?o:r.offsetWidth-r.clientWidth,v=e&&u&&!isNaN(u)?u:r.offsetHeight-r.clientHeight;return document.body.removeChild(r),ca(a),{width:y,height:v}}function Nt(e){return typeof document>"u"?0:(sa===void 0&&(sa=za()),sa.width)}function Za(e){return typeof document>"u"||!e||!(e instanceof Element)?{width:0,height:0}:za(e)}function Ya(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var Xa="rc-util-locker-".concat(Date.now()),Ca=0;function Oa(e){var a=!!e,r=n.useState(function(){return Ca+=1,"".concat(Xa,"_").concat(Ca)}),t=E(r,1),o=t[0];K(function(){if(a){var u=Za(document.body).width,s=Ya();Na(`
html body {
  overflow-y: hidden;
  `.concat(s?"width: calc(100% - ".concat(u,"px);"):"",`
}`),o)}else ca(o);return function(){ca(o)}},[a,o])}var pa=!1;function et(e){return pa}var Ma=function(a){return a===!1?!1:!Br()||!a?null:typeof a=="string"?document.querySelector(a):typeof a=="function"?a():a},xa=n.forwardRef(function(e,a){var r=e.open,t=e.autoLock,o=e.getContainer;e.debug;var u=e.autoDestroy,s=u===void 0?!0:u,c=e.children,m=n.useState(r),h=E(m,2),k=h[0],g=h[1],y=k||r;n.useEffect(function(){(s||r)&&g(r)},[r,s]);var v=n.useState(function(){return Ma(o)}),d=E(v,2),S=d[0],b=d[1];n.useEffect(function(){var te=Ma(o);b(te??null)});var $=Ka(y&&!S),W=E($,2),L=W[0],A=W[1],R=S??L;Oa(t&&r&&Br()&&(R===L||R===document.body));var f=null;if(c&&ka(c)&&a){var ve=c;f=ve.ref}var ce=Ea(f,a);if(!y||!Br()||S===void 0)return null;var ae=R===!1||et(),Z=c;return a&&(Z=n.cloneElement(c,{ref:ce})),n.createElement(Ra.Provider,{value:A},ae?Z:Va.createPortal(Z,R))});function rt(e){var a=e.prefixCls,r=e.align,t=e.arrow,o=e.arrowPos,u=t||{},s=u.className,c=u.content,m=o.x,h=m===void 0?0:m,k=o.y,g=k===void 0?0:k,y=n.useRef();if(!r||!r.points)return null;var v={position:"absolute"};if(r.autoArrow!==!1){var d=r.points[0],S=r.points[1],b=d[0],$=d[1],W=S[0],L=S[1];b===W||!["t","b"].includes(b)?v.top=g:b==="t"?v.top=0:v.bottom=0,$===L||!["l","r"].includes($)?v.left=h:$==="l"?v.left=0:v.right=0}return n.createElement("div",{ref:y,className:ar("".concat(a,"-arrow"),s),style:v},c)}function at(e){var a=e.prefixCls,r=e.open,t=e.zIndex,o=e.mask,u=e.motion;return o?n.createElement(Wa,Ta({},u,{motionAppear:!0,visible:r,removeOnLeave:!0}),function(s){var c=s.className;return n.createElement("div",{style:{zIndex:t},className:ar("".concat(a,"-mask"),c)})}):null}var tt=n.memo(function(e){var a=e.children;return a},function(e,a){return a.cache}),nt=n.forwardRef(function(e,a){var r=e.popup,t=e.className,o=e.prefixCls,u=e.style,s=e.target,c=e.onVisibleChanged,m=e.open,h=e.keepDom,k=e.fresh,g=e.onClick,y=e.mask,v=e.arrow,d=e.arrowPos,S=e.align,b=e.motion,$=e.maskMotion,W=e.forceRender,L=e.getPopupContainer,A=e.autoDestroy,R=e.portal,f=e.zIndex,ve=e.onMouseEnter,ce=e.onMouseLeave,ae=e.onPointerEnter,Z=e.onPointerDownCapture,te=e.ready,we=e.offsetX,Se=e.offsetY,fe=e.offsetR,be=e.offsetB,Q=e.onAlign,Pe=e.onPrepare,x=e.stretch,F=e.targetWidth,C=e.targetHeight,Be=typeof r=="function"?r():r,ne=m||h,B=(L==null?void 0:L.length)>0,M=n.useState(!L||!B),I=E(M,2),Ae=I[0],tr=I[1];if(K(function(){!Ae&&B&&s&&tr(!0)},[Ae,B,s]),!Ae)return null;var de="auto",J={left:"-1000vw",top:"-1000vh",right:de,bottom:de};if(te||!m){var Ne,Fe=S.points,Y=S.dynamicInset||((Ne=S._experimental)===null||Ne===void 0?void 0:Ne.dynamicInset),he=Y&&Fe[0][1]==="r",oe=Y&&Fe[0][0]==="b";he?(J.right=fe,J.left=de):(J.left=we,J.right=de),oe?(J.bottom=be,J.top=de):(J.top=Se,J.bottom=de)}var q={};return x&&(x.includes("height")&&C?q.height=C:x.includes("minHeight")&&C&&(q.minHeight=C),x.includes("width")&&F?q.width=F:x.includes("minWidth")&&F&&(q.minWidth=F)),m||(q.pointerEvents="none"),n.createElement(R,{open:W||ne,getContainer:L&&function(){return L(s)},autoDestroy:A},n.createElement(at,{prefixCls:o,open:m,zIndex:f,mask:y,motion:$}),n.createElement(Ha,{onResize:Q,disabled:!m},function(nr){return n.createElement(Wa,Ta({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:W,leavedClassName:"".concat(o,"-hidden")},b,{onAppearPrepare:Pe,onEnterPrepare:Pe,visible:m,onVisibleChanged:function(X){var me;b==null||(me=b.onVisibleChanged)===null||me===void 0||me.call(b,X),c(X)}}),function(ke,X){var me=ke.className,je=ke.style,j=ar(o,me,t);return n.createElement("div",{ref:Aa(nr,a,X),className:j,style:_(_(_(_({"--arrow-x":"".concat(d.x||0,"px"),"--arrow-y":"".concat(d.y||0,"px")},J),q),je),{},{boxSizing:"border-box",zIndex:f},u),onMouseEnter:ve,onMouseLeave:ce,onPointerEnter:ae,onClick:g,onPointerDownCapture:Z},v&&n.createElement(rt,{prefixCls:o,arrow:v,arrowPos:d,align:S}),n.createElement(tt,{cache:!m&&!k},Be))})}))}),ot=n.forwardRef(function(e,a){var r=e.children,t=e.getTriggerDOMNode,o=ka(r),u=n.useCallback(function(c){Fa(a,t?t(c):c)},[t]),s=Ea(u,ja(r));return o?n.cloneElement(r,{ref:s}):r}),wa=n.createContext(null);function Sa(e){return e?Array.isArray(e)?e:[e]:[]}function it(e,a,r,t){return n.useMemo(function(){var o=Sa(r??a),u=Sa(t??a),s=new Set(o),c=new Set(u);return e&&(s.has("hover")&&(s.delete("hover"),s.add("click")),c.has("hover")&&(c.delete("hover"),c.add("click"))),[s,c]},[e,a,r,t])}function ut(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;return r?e[0]===a[0]:e[0]===a[0]&&e[1]===a[1]}function lt(e,a,r,t){for(var o=r.points,u=Object.keys(e),s=0;s<u.length;s+=1){var c,m=u[s];if(ut((c=e[m])===null||c===void 0?void 0:c.points,o,t))return"".concat(a,"-placement-").concat(m)}return""}function ba(e,a,r,t){return a||(r?{motionName:"".concat(e,"-").concat(r)}:t?{motionName:t}:null)}function mr(e){return e.ownerDocument.defaultView}function ha(e){for(var a=[],r=e==null?void 0:e.parentElement,t=["hidden","scroll","clip","auto"];r;){var o=mr(r).getComputedStyle(r),u=o.overflowX,s=o.overflowY,c=o.overflow;[u,s,c].some(function(m){return t.includes(m)})&&a.push(r),r=r.parentElement}return a}function hr(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(e)?a:e}function dr(e){return hr(parseFloat(e),0)}function Pa(e,a){var r=_({},e);return(a||[]).forEach(function(t){if(!(t instanceof HTMLBodyElement||t instanceof HTMLHtmlElement)){var o=mr(t).getComputedStyle(t),u=o.overflow,s=o.overflowClipMargin,c=o.borderTopWidth,m=o.borderBottomWidth,h=o.borderLeftWidth,k=o.borderRightWidth,g=t.getBoundingClientRect(),y=t.offsetHeight,v=t.clientHeight,d=t.offsetWidth,S=t.clientWidth,b=dr(c),$=dr(m),W=dr(h),L=dr(k),A=hr(Math.round(g.width/d*1e3)/1e3),R=hr(Math.round(g.height/y*1e3)/1e3),f=(d-S-W-L)*A,ve=(y-v-b-$)*R,ce=b*R,ae=$*R,Z=W*A,te=L*A,we=0,Se=0;if(u==="clip"){var fe=dr(s);we=fe*A,Se=fe*R}var be=g.x+Z-we,Q=g.y+ce-Se,Pe=be+g.width+2*we-Z-te-f,x=Q+g.height+2*Se-ce-ae-ve;r.left=Math.max(r.left,be),r.top=Math.max(r.top,Q),r.right=Math.min(r.right,Pe),r.bottom=Math.min(r.bottom,x)}}),r}function Da(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r="".concat(a),t=r.match(/^(.*)\%$/);return t?e*(parseFloat(t[1])/100):parseFloat(r)}function $a(e,a){var r=a||[],t=E(r,2),o=t[0],u=t[1];return[Da(e.width,o),Da(e.height,u)]}function La(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[e[0],e[1]]}function rr(e,a){var r=a[0],t=a[1],o,u;return r==="t"?u=e.y:r==="b"?u=e.y+e.height:u=e.y+e.height/2,t==="l"?o=e.x:t==="r"?o=e.x+e.width:o=e.x+e.width/2,{x:o,y:u}}function xe(e,a){var r={t:"b",b:"t",l:"r",r:"l"};return e.map(function(t,o){return o===a?r[t]||"c":t}).join("")}function st(e,a,r,t,o,u,s){var c=n.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:o[t]||{}}),m=E(c,2),h=m[0],k=m[1],g=n.useRef(0),y=n.useMemo(function(){return a?ha(a):[]},[a]),v=n.useRef({}),d=function(){v.current={}};e||d();var S=Ke(function(){if(a&&r&&e){let re=function(er,Re){var ze=arguments.length>2&&arguments[2]!==void 0?arguments[2]:gr,fr=M.x+er,Rr=M.y+Re,ta=fr+he,na=Rr+Y,oa=Math.max(fr,ze.left),i=Math.max(Rr,ze.top),l=Math.min(ta,ze.right),N=Math.min(na,ze.bottom);return Math.max(0,(l-oa)*(N-i))},Hr=function(){qe=M.y+D,Qe=qe+Y,$e=M.x+w,Ye=$e+he};var W,L,A,R,f=a,ve=f.ownerDocument,ce=mr(f),ae=ce.getComputedStyle(f),Z=ae.width,te=ae.height,we=ae.position,Se=f.style.left,fe=f.style.top,be=f.style.right,Q=f.style.bottom,Pe=f.style.overflow,x=_(_({},o[t]),u),F=ve.createElement("div");(W=f.parentElement)===null||W===void 0||W.appendChild(F),F.style.left="".concat(f.offsetLeft,"px"),F.style.top="".concat(f.offsetTop,"px"),F.style.position=we,F.style.height="".concat(f.offsetHeight,"px"),F.style.width="".concat(f.offsetWidth,"px"),f.style.left="0",f.style.top="0",f.style.right="auto",f.style.bottom="auto",f.style.overflow="hidden";var C;if(Array.isArray(r))C={x:r[0],y:r[1],width:0,height:0};else{var Be,ne,B=r.getBoundingClientRect();B.x=(Be=B.x)!==null&&Be!==void 0?Be:B.left,B.y=(ne=B.y)!==null&&ne!==void 0?ne:B.top,C={x:B.x,y:B.y,width:B.width,height:B.height}}var M=f.getBoundingClientRect();M.x=(L=M.x)!==null&&L!==void 0?L:M.left,M.y=(A=M.y)!==null&&A!==void 0?A:M.top;var I=ve.documentElement,Ae=I.clientWidth,tr=I.clientHeight,de=I.scrollWidth,J=I.scrollHeight,Ne=I.scrollTop,Fe=I.scrollLeft,Y=M.height,he=M.width,oe=C.height,q=C.width,nr={left:0,top:0,right:Ae,bottom:tr},ke={left:-Fe,top:-Ne,right:de-Fe,bottom:J-Ne},X=x.htmlRegion,me="visible",je="visibleFirst";X!=="scroll"&&X!==je&&(X=me);var j=X===je,Ar=Pa(ke,y),P=Pa(nr,y),gr=X===me?P:Ar,Ue=j?P:gr;f.style.left="auto",f.style.top="auto",f.style.right="0",f.style.bottom="0";var U=f.getBoundingClientRect();f.style.left=Se,f.style.top=fe,f.style.right=be,f.style.bottom=Q,f.style.overflow=Pe,(R=f.parentElement)===null||R===void 0||R.removeChild(F);var Ee=hr(Math.round(he/parseFloat(Z)*1e3)/1e3),De=hr(Math.round(Y/parseFloat(te)*1e3)/1e3);if(Ee===0||De===0||fa(r)&&!Qa(r))return;var Fr=x.offset,jr=x.targetOffset,yr=$a(M,Fr),ie=E(yr,2),ue=ie[0],O=ie[1],Ur=$a(C,jr),Ve=E(Ur,2),p=Ve[0],Te=Ve[1];C.x-=p,C.y-=Te;var Vr=x.points||[],Cr=E(Vr,2),_r=Cr[0],qr=Cr[1],ge=La(qr),G=La(_r),or=rr(C,ge),V=rr(M,G),We=_({},x),w=or.x-V.x+ue,D=or.y-V.y+O,le=re(w,D),_e=re(w,D,P),ir=rr(C,["t","l"]),ee=rr(M,["t","l"]),Mr=rr(C,["b","r"]),ur=rr(M,["b","r"]),He=x.overflow||{},wr=He.adjustX,Qr=He.adjustY,lr=He.shiftX,Ze=He.shiftY,sr=function(Re){return typeof Re=="boolean"?Re:Re>=0},qe,Qe,$e,Ye;Hr();var Ie=sr(Qr),Sr=G[0]===ge[0];if(Ie&&G[0]==="t"&&(Qe>Ue.bottom||v.current.bt)){var z=D;Sr?z-=Y-oe:z=ir.y-ur.y-O;var br=re(w,z),Ir=re(w,z,P);br>le||br===le&&(!j||Ir>=_e)?(v.current.bt=!0,D=z,O=-O,We.points=[xe(G,0),xe(ge,0)]):v.current.bt=!1}if(Ie&&G[0]==="b"&&(qe<Ue.top||v.current.tb)){var Je=D;Sr?Je+=Y-oe:Je=Mr.y-ee.y-O;var Pr=re(w,Je),Jr=re(w,Je,P);Pr>le||Pr===le&&(!j||Jr>=_e)?(v.current.tb=!0,D=Je,O=-O,We.points=[xe(G,0),xe(ge,0)]):v.current.tb=!1}var Dr=sr(wr),$r=G[1]===ge[1];if(Dr&&G[1]==="l"&&(Ye>Ue.right||v.current.rl)){var Ge=w;$r?Ge-=he-q:Ge=ir.x-ur.x-ue;var Lr=re(Ge,D),Xe=re(Ge,D,P);Lr>le||Lr===le&&(!j||Xe>=_e)?(v.current.rl=!0,w=Ge,ue=-ue,We.points=[xe(G,1),xe(ge,1)]):v.current.rl=!1}if(Dr&&G[1]==="r"&&($e<Ue.left||v.current.lr)){var Le=w;$r?Le+=he-q:Le=Mr.x-ee.x-ue;var Nr=re(Le,D),kr=re(Le,D,P);Nr>le||Nr===le&&(!j||kr>=_e)?(v.current.lr=!0,w=Le,ue=-ue,We.points=[xe(G,1),xe(ge,1)]):v.current.lr=!1}Hr();var ye=lr===!0?0:lr;typeof ye=="number"&&($e<P.left&&(w-=$e-P.left-ue,C.x+q<P.left+ye&&(w+=C.x-P.left+q-ye)),Ye>P.right&&(w-=Ye-P.right-ue,C.x>P.right-ye&&(w+=C.x-P.right+ye)));var se=Ze===!0?0:Ze;typeof se=="number"&&(qe<P.top&&(D-=qe-P.top-O,C.y+oe<P.top+se&&(D+=C.y-P.top+oe-se)),Qe>P.bottom&&(D-=Qe-P.bottom-O,C.y>P.bottom-se&&(D+=C.y-P.bottom+se)));var Oe=M.x+w,pe=Oe+he,Ce=M.y+D,Gr=Ce+Y,Er=C.x,Kr=Er+q,vr=C.y,Zr=vr+oe,Yr=Math.max(Oe,Er),Xr=Math.min(pe,Kr),Tr=(Yr+Xr)/2,Or=Tr-Oe,pr=Math.max(Ce,vr),Wr=Math.min(Gr,Zr),ea=(pr+Wr)/2,ra=ea-Ce;s==null||s(a,We);var cr=U.right-M.x-(w+M.width),Me=U.bottom-M.y-(D+M.height);Ee===1&&(w=Math.round(w),cr=Math.round(cr)),De===1&&(D=Math.round(D),Me=Math.round(Me));var aa={ready:!0,offsetX:w/Ee,offsetY:D/De,offsetR:cr/Ee,offsetB:Me/De,arrowX:Or/Ee,arrowY:ra/De,scaleX:Ee,scaleY:De,align:We};k(aa)}}),b=function(){g.current+=1;var L=g.current;Promise.resolve().then(function(){g.current===L&&S()})},$=function(){k(function(L){return _(_({},L),{},{ready:!1})})};return K($,[t]),K(function(){e||$()},[e]),[h.ready,h.offsetX,h.offsetY,h.offsetR,h.offsetB,h.arrowX,h.arrowY,h.scaleX,h.scaleY,h.align,b]}function vt(e,a,r,t,o){K(function(){if(e&&a&&r){let g=function(){t(),o()};var u=a,s=r,c=ha(u),m=ha(s),h=mr(s),k=new Set([h].concat(va(c),va(m)));return k.forEach(function(y){y.addEventListener("scroll",g,{passive:!0})}),h.addEventListener("resize",g,{passive:!0}),t(),function(){k.forEach(function(y){y.removeEventListener("scroll",g),h.removeEventListener("resize",g)})}}},[e,a,r])}function ct(e,a,r,t,o,u,s,c){var m=n.useRef(e);m.current=e;var h=n.useRef(!1);n.useEffect(function(){if(a&&t&&(!o||u)){var g=function(){h.current=!1},y=function(b){var $;m.current&&!s((($=b.composedPath)===null||$===void 0||($=$.call(b))===null||$===void 0?void 0:$[0])||b.target)&&!h.current&&c(!1)},v=mr(t);v.addEventListener("pointerdown",g,!0),v.addEventListener("mousedown",y,!0),v.addEventListener("contextmenu",y,!0);var d=da(r);return d&&(d.addEventListener("mousedown",y,!0),d.addEventListener("contextmenu",y,!0)),function(){v.removeEventListener("pointerdown",g,!0),v.removeEventListener("mousedown",y,!0),v.removeEventListener("contextmenu",y,!0),d&&(d.removeEventListener("mousedown",y,!0),d.removeEventListener("contextmenu",y,!0))}}},[a,r,t,o,u]);function k(){h.current=!0}return k}var ft=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function dt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:xa,a=n.forwardRef(function(r,t){var o=r.prefixCls,u=o===void 0?"rc-trigger-popup":o,s=r.children,c=r.action,m=c===void 0?"hover":c,h=r.showAction,k=r.hideAction,g=r.popupVisible,y=r.defaultPopupVisible,v=r.onPopupVisibleChange,d=r.afterPopupVisibleChange,S=r.mouseEnterDelay,b=r.mouseLeaveDelay,$=b===void 0?.1:b,W=r.focusDelay,L=r.blurDelay,A=r.mask,R=r.maskClosable,f=R===void 0?!0:R,ve=r.getPopupContainer,ce=r.forceRender,ae=r.autoDestroy,Z=r.destroyPopupOnHide,te=r.popup,we=r.popupClassName,Se=r.popupStyle,fe=r.popupPlacement,be=r.builtinPlacements,Q=be===void 0?{}:be,Pe=r.popupAlign,x=r.zIndex,F=r.stretch,C=r.getPopupClassNameFromAlign,Be=r.fresh,ne=r.alignPoint,B=r.onPopupClick,M=r.onPopupAlign,I=r.arrow,Ae=r.popupMotion,tr=r.maskMotion,de=r.popupTransitionName,J=r.popupAnimation,Ne=r.maskTransitionName,Fe=r.maskAnimation,Y=r.className,he=r.getTriggerDOMNode,oe=Ua(r,ft),q=ae||Z||!1,nr=n.useState(!1),ke=E(nr,2),X=ke[0],me=ke[1];K(function(){me(qa())},[]);var je=n.useRef({}),j=n.useContext(wa),Ar=n.useMemo(function(){return{registerSubPopup:function(l,N){je.current[l]=N,j==null||j.registerSubPopup(l,N)}}},[j]),P=_a(),gr=n.useState(null),Ue=E(gr,2),U=Ue[0],Ee=Ue[1],De=n.useRef(null),Fr=Ke(function(i){De.current=i,fa(i)&&U!==i&&Ee(i),j==null||j.registerSubPopup(P,i)}),jr=n.useState(null),yr=E(jr,2),ie=yr[0],ue=yr[1],O=n.useRef(null),Ur=Ke(function(i){fa(i)&&ie!==i&&(ue(i),O.current=i)}),Ve=n.Children.only(s),p=(Ve==null?void 0:Ve.props)||{},Te={},Vr=Ke(function(i){var l,N,H=ie;return(H==null?void 0:H.contains(i))||((l=da(H))===null||l===void 0?void 0:l.host)===i||i===H||(U==null?void 0:U.contains(i))||((N=da(U))===null||N===void 0?void 0:N.host)===i||i===U||Object.values(je.current).some(function(T){return(T==null?void 0:T.contains(i))||i===T})}),Cr=ba(u,Ae,J,de),_r=ba(u,tr,Fe,Ne),qr=n.useState(y||!1),ge=E(qr,2),G=ge[0],or=ge[1],V=g??G,We=Ke(function(i){g===void 0&&or(i)});K(function(){or(g||!1)},[g]);var w=n.useRef(V);w.current=V;var D=n.useRef([]);D.current=[];var le=Ke(function(i){var l;We(i),((l=D.current[D.current.length-1])!==null&&l!==void 0?l:V)!==i&&(D.current.push(i),v==null||v(i))}),_e=n.useRef(),ir=function(){clearTimeout(_e.current)},ee=function(l){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;ir(),N===0?le(l):_e.current=setTimeout(function(){le(l)},N*1e3)};n.useEffect(function(){return ir},[]);var Mr=n.useState(!1),ur=E(Mr,2),He=ur[0],wr=ur[1];K(function(i){(!i||V)&&wr(!0)},[V]);var Qr=n.useState(null),lr=E(Qr,2),Ze=lr[0],sr=lr[1],qe=n.useState(null),Qe=E(qe,2),$e=Qe[0],Ye=Qe[1],Ie=function(l){Ye([l.clientX,l.clientY])},Sr=st(V,U,ne&&$e!==null?$e:ie,fe,Q,Pe,M),z=E(Sr,11),br=z[0],Ir=z[1],Je=z[2],Pr=z[3],Jr=z[4],Dr=z[5],$r=z[6],Ge=z[7],Lr=z[8],Xe=z[9],Le=z[10],Nr=it(X,m,h,k),kr=E(Nr,2),ye=kr[0],se=kr[1],Oe=ye.has("click"),pe=se.has("click")||se.has("contextMenu"),Ce=Ke(function(){He||Le()}),Gr=function(){w.current&&ne&&pe&&ee(!1)};vt(V,ie,U,Ce,Gr),K(function(){Ce()},[$e,fe]),K(function(){V&&!(Q!=null&&Q[fe])&&Ce()},[JSON.stringify(Pe)]);var Er=n.useMemo(function(){var i=lt(Q,u,Xe,ne);return ar(i,C==null?void 0:C(Xe))},[Xe,C,Q,u,ne]);n.useImperativeHandle(t,function(){return{nativeElement:O.current,popupElement:De.current,forceAlign:Ce}});var Kr=n.useState(0),vr=E(Kr,2),Zr=vr[0],Yr=vr[1],Xr=n.useState(0),Tr=E(Xr,2),Or=Tr[0],pr=Tr[1],Wr=function(){if(F&&ie){var l=ie.getBoundingClientRect();Yr(l.width),pr(l.height)}},ea=function(){Wr(),Ce()},ra=function(l){wr(!1),Le(),d==null||d(l)},cr=function(){return new Promise(function(l){Wr(),sr(function(){return l})})};K(function(){Ze&&(Le(),Ze(),sr(null))},[Ze]);function Me(i,l,N,H){Te[i]=function(T){var zr;H==null||H(T),ee(l,N);for(var ia=arguments.length,ma=new Array(ia>1?ia-1:0),xr=1;xr<ia;xr++)ma[xr-1]=arguments[xr];(zr=p[i])===null||zr===void 0||zr.call.apply(zr,[p,T].concat(ma))}}(Oe||pe)&&(Te.onClick=function(i){var l;w.current&&pe?ee(!1):!w.current&&Oe&&(Ie(i),ee(!0));for(var N=arguments.length,H=new Array(N>1?N-1:0),T=1;T<N;T++)H[T-1]=arguments[T];(l=p.onClick)===null||l===void 0||l.call.apply(l,[p,i].concat(H))});var aa=ct(V,pe,ie,U,A,f,Vr,ee),re=ye.has("hover"),Hr=se.has("hover"),er,Re;re&&(Me("onMouseEnter",!0,S,function(i){Ie(i)}),Me("onPointerEnter",!0,S,function(i){Ie(i)}),er=function(l){(V||He)&&U!==null&&U!==void 0&&U.contains(l.target)&&ee(!0,S)},ne&&(Te.onMouseMove=function(i){var l;(l=p.onMouseMove)===null||l===void 0||l.call(p,i)})),Hr&&(Me("onMouseLeave",!1,$),Me("onPointerLeave",!1,$),Re=function(){ee(!1,$)}),ye.has("focus")&&Me("onFocus",!0,W),se.has("focus")&&Me("onBlur",!1,L),ye.has("contextMenu")&&(Te.onContextMenu=function(i){var l;w.current&&se.has("contextMenu")?ee(!1):(Ie(i),ee(!0)),i.preventDefault();for(var N=arguments.length,H=new Array(N>1?N-1:0),T=1;T<N;T++)H[T-1]=arguments[T];(l=p.onContextMenu)===null||l===void 0||l.call.apply(l,[p,i].concat(H))}),Y&&(Te.className=ar(p.className,Y));var ze=_(_({},p),Te),fr={},Rr=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];Rr.forEach(function(i){oe[i]&&(fr[i]=function(){for(var l,N=arguments.length,H=new Array(N),T=0;T<N;T++)H[T]=arguments[T];(l=ze[i])===null||l===void 0||l.call.apply(l,[ze].concat(H)),oe[i].apply(oe,H)})});var ta=n.cloneElement(Ve,_(_({},ze),fr)),na={x:Dr,y:$r},oa=I?_({},I!==!0?I:{}):null;return n.createElement(n.Fragment,null,n.createElement(Ha,{disabled:!V,ref:Ur,onResize:ea},n.createElement(ot,{getTriggerDOMNode:he},ta)),n.createElement(wa.Provider,{value:Ar},n.createElement(nt,{portal:e,ref:Fr,prefixCls:u,popup:te,className:ar(we,Er),style:Se,target:ie,onMouseEnter:er,onMouseLeave:Re,onPointerEnter:er,zIndex:x,open:V,keepDom:He,fresh:Be,onClick:B,onPointerDownCapture:aa,mask:A,motion:Cr,maskMotion:_r,onVisibleChanged:ra,onPrepare:cr,forceRender:ce,autoDestroy:q,getPopupContainer:ve,align:Xe,arrow:oa,arrowPos:na,ready:br,offsetX:Ir,offsetY:Je,offsetR:Pr,offsetB:Jr,onAlign:Ce,stretch:F,targetWidth:Zr/Ge,targetHeight:Or/Lr})))});return a}const kt=dt(xa);export{kt as T,Dt as a,Nt as b,Za as c,$t as g,Lt as i};
