import{R as ot,r as o}from"./index-BCtMShv3.js";import{l as te,_ as k,q as De,s as Ue,c as Fe,d as je,E as Ee,a as d,e as A,a4 as ut,g as st,v as ct,w as ft,H as Le,f as vt}from"./index-c-eVI8SP.js";import{h as _e}from"./index-DR9qmNxJ.js";function ke(e){return e instanceof HTMLElement||e instanceof SVGElement}function lt(e){return e&&te(e)==="object"&&ke(e.nativeElement)?e.nativeElement:ke(e)?e:null}function dt(e){var t=lt(e);if(t)return t;if(e instanceof ot.Component){var n;return(n=_e.findDOMNode)===null||n===void 0?void 0:n.call(_e,e)}return null}var Ie=function(t){return+setTimeout(t,16)},Ke=function(t){return clearTimeout(t)};typeof window<"u"&&"requestAnimationFrame"in window&&(Ie=function(t){return window.requestAnimationFrame(t)},Ke=function(t){return window.cancelAnimationFrame(t)});var xe=0,Se=new Map;function $e(e){Se.delete(e)}var se=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;xe+=1;var r=xe;function a(i){if(i===0)$e(r),t();else{var u=Ie(function(){a(i-1)});Se.set(r,u)}}return a(n),r};se.cancel=function(e){var t=Se.get(e);return $e(e),Ke(t)};function mt(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ce(e,t){if(e==null)return{};var n,r,a=mt(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const be=o.createContext(void 0),jt=e=>{let{children:t,size:n}=e;const r=o.useContext(be);return o.createElement(be.Provider,{value:n||r},t)};function fe(e){var t=o.useRef();t.current=e;var n=o.useCallback(function(){for(var r,a=arguments.length,i=new Array(a),u=0;u<a;u++)i[u]=arguments[u];return(r=t.current)===null||r===void 0?void 0:r.call.apply(r,[t].concat(i))},[]);return n}function ve(e){var t=o.useRef(!1),n=o.useState(e),r=k(n,2),a=r[0],i=r[1];o.useEffect(function(){return t.current=!1,function(){t.current=!0}},[]);function u(c,p){p&&t.current||i(c)}return[a,u]}var pt=["children"],ze=o.createContext({});function It(e){var t=e.children,n=ce(e,pt);return o.createElement(ze.Provider,{value:n},t)}var Et=function(e){De(n,e);var t=Ue(n);function n(){return je(this,n),t.apply(this,arguments)}return Fe(n,[{key:"render",value:function(){return this.props.children}}]),n}(o.Component);function St(e){var t=o.useReducer(function(c){return c+1},0),n=k(t,2),r=n[1],a=o.useRef(e),i=fe(function(){return a.current}),u=fe(function(c){a.current=typeof c=="function"?c(a.current):c,r()});return[i,u]}var N="none",X="appear",Y="enter",Z="leave",Me="none",P="prepare",z="start",Q="active",ye="end",Qe="prepared";function we(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}function yt(e,t){var n={animationend:we("Animation","AnimationEnd"),transitionend:we("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete n.animationend.animation,"TransitionEvent"in t||delete n.transitionend.transition),n}var gt=yt(Ee(),typeof window<"u"?window:{}),He={};if(Ee()){var ht=document.createElement("div");He=ht.style}var ee={};function We(e){if(ee[e])return ee[e];var t=gt[e];if(t)for(var n=Object.keys(t),r=n.length,a=0;a<r;a+=1){var i=n[a];if(Object.prototype.hasOwnProperty.call(t,i)&&i in He)return ee[e]=t[i],ee[e]}return""}var qe=We("animationend"),Ge=We("transitionend"),Be=!!(qe&&Ge),Oe=qe||"animationend",Ne=Ge||"transitionend";function Ve(e,t){if(!e)return null;if(te(e)==="object"){var n=t.replace(/-\w/g,function(r){return r[1].toUpperCase()});return e[n]}return"".concat(e,"-").concat(t)}const At=function(e){var t=o.useRef();function n(a){a&&(a.removeEventListener(Ne,e),a.removeEventListener(Oe,e))}function r(a){t.current&&t.current!==a&&n(t.current),a&&a!==t.current&&(a.addEventListener(Ne,e),a.addEventListener(Oe,e),t.current=a)}return o.useEffect(function(){return function(){n(t.current)}},[]),[r,n]};var Je=Ee()?o.useLayoutEffect:o.useEffect;const Rt=function(){var e=o.useRef(null);function t(){se.cancel(e.current)}function n(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;t();var i=se(function(){a<=1?r({isCanceled:function(){return i!==e.current}}):n(r,a-1)});e.current=i}return o.useEffect(function(){return function(){t()}},[]),[n,t]};var Ct=[P,z,Q,ye],Tt=[P,Qe],Xe=!1,Pt=!0;function Ye(e){return e===Q||e===ye}const Lt=function(e,t,n){var r=ve(Me),a=k(r,2),i=a[0],u=a[1],c=Rt(),p=k(c,2),s=p[0],v=p[1];function f(){u(P,!0)}var l=t?Tt:Ct;return Je(function(){if(i!==Me&&i!==ye){var m=l.indexOf(i),S=l[m+1],C=n(i);C===Xe?u(S,!0):S&&s(function(y){function b(){y.isCanceled()||u(S,!0)}C===!0?b():Promise.resolve(C).then(b)})}},[e,i]),o.useEffect(function(){return function(){v()}},[]),[f,i]};function _t(e,t,n,r){var a=r.motionEnter,i=a===void 0?!0:a,u=r.motionAppear,c=u===void 0?!0:u,p=r.motionLeave,s=p===void 0?!0:p,v=r.motionDeadline,f=r.motionLeaveImmediately,l=r.onAppearPrepare,m=r.onEnterPrepare,S=r.onLeavePrepare,C=r.onAppearStart,y=r.onEnterStart,b=r.onLeaveStart,M=r.onAppearActive,x=r.onEnterActive,H=r.onLeaveActive,w=r.onAppearEnd,R=r.onEnterEnd,V=r.onLeaveEnd,D=r.onVisibleChanged,ne=ve(),K=k(ne,2),T=K[0],U=K[1],g=St(N),F=k(g,2),O=F[0],j=F[1],re=ve(null),$=k(re,2),Ze=$[0],ge=$[1],L=O(),q=o.useRef(!1),ae=o.useRef(null);function G(){return n()}var he=o.useRef(!1);function Ae(){j(N),ge(null,!0)}var Re=fe(function(h){var E=O();if(E!==N){var _=G();if(!(h&&!h.deadline&&h.target!==_)){var B=he.current,J;E===X&&B?J=w==null?void 0:w(_,h):E===Y&&B?J=R==null?void 0:R(_,h):E===Z&&B&&(J=V==null?void 0:V(_,h)),B&&J!==!1&&Ae()}}}),et=At(Re),tt=k(et,1),nt=tt[0],Ce=function(E){switch(E){case X:return A(A(A({},P,l),z,C),Q,M);case Y:return A(A(A({},P,m),z,y),Q,x);case Z:return A(A(A({},P,S),z,b),Q,H);default:return{}}},W=o.useMemo(function(){return Ce(L)},[L]),rt=Lt(L,!e,function(h){if(h===P){var E=W[P];return E?E(G()):Xe}if(I in W){var _;ge(((_=W[I])===null||_===void 0?void 0:_.call(W,G(),null))||null)}return I===Q&&L!==N&&(nt(G()),v>0&&(clearTimeout(ae.current),ae.current=setTimeout(function(){Re({deadline:!0})},v))),I===Qe&&Ae(),Pt}),Te=k(rt,2),at=Te[0],I=Te[1],it=Ye(I);he.current=it;var Pe=o.useRef(null);Je(function(){if(!(q.current&&Pe.current===t)){U(t);var h=q.current;q.current=!0;var E;!h&&t&&c&&(E=X),h&&t&&i&&(E=Y),(h&&!t&&s||!h&&f&&!t&&s)&&(E=Z);var _=Ce(E);E&&(e||_[P])?(j(E),at()):j(N),Pe.current=t}},[t]),o.useEffect(function(){(L===X&&!c||L===Y&&!i||L===Z&&!s)&&j(N)},[c,i,s]),o.useEffect(function(){return function(){q.current=!1,clearTimeout(ae.current)}},[]);var ie=o.useRef(!1);o.useEffect(function(){T&&(ie.current=!0),T!==void 0&&L===N&&((ie.current||T)&&(D==null||D(T)),ie.current=!0)},[T,L]);var oe=Ze;return W[P]&&I===z&&(oe=d({transition:"none"},oe)),[L,I,oe,T??t]}function kt(e){var t=e;te(e)==="object"&&(t=e.transitionSupport);function n(a,i){return!!(a.motionName&&t&&i!==!1)}var r=o.forwardRef(function(a,i){var u=a.visible,c=u===void 0?!0:u,p=a.removeOnLeave,s=p===void 0?!0:p,v=a.forceRender,f=a.children,l=a.motionName,m=a.leavedClassName,S=a.eventProps,C=o.useContext(ze),y=C.motion,b=n(a,y),M=o.useRef(),x=o.useRef();function H(){try{return M.current instanceof HTMLElement?M.current:dt(x.current)}catch{return null}}var w=_t(b,c,H,a),R=k(w,4),V=R[0],D=R[1],ne=R[2],K=R[3],T=o.useRef(K);K&&(T.current=!0);var U=o.useCallback(function($){M.current=$,ut(i,$)},[i]),g,F=d(d({},S),{},{visible:c});if(!f)g=null;else if(V===N)K?g=f(d({},F),U):!s&&T.current&&m?g=f(d(d({},F),{},{className:m}),U):v||!s&&!m?g=f(d(d({},F),{},{style:{display:"none"}}),U):g=null;else{var O;D===P?O="prepare":Ye(D)?O="active":D===z&&(O="start");var j=Ve(l,"".concat(V,"-").concat(O));g=f(d(d({},F),{},{className:st(Ve(l,V),A(A({},j,j&&O),l,typeof l=="string")),style:ne}),U)}if(o.isValidElement(g)&&ct(g)){var re=ft(g);re||(g=o.cloneElement(g,{ref:U}))}return o.createElement(Et,{ref:x},g)});return r.displayName="CSSMotion",r}const xt=kt(Be);var le="add",de="keep",me="remove",ue="removed";function bt(e){var t;return e&&te(e)==="object"&&"key"in e?t=e:t={key:e},d(d({},t),{},{key:String(t.key)})}function pe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return e.map(bt)}function Mt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=[],r=0,a=t.length,i=pe(e),u=pe(t);i.forEach(function(s){for(var v=!1,f=r;f<a;f+=1){var l=u[f];if(l.key===s.key){r<f&&(n=n.concat(u.slice(r,f).map(function(m){return d(d({},m),{},{status:le})})),r=f),n.push(d(d({},l),{},{status:de})),r+=1,v=!0;break}}v||n.push(d(d({},s),{},{status:me}))}),r<a&&(n=n.concat(u.slice(r).map(function(s){return d(d({},s),{},{status:le})})));var c={};n.forEach(function(s){var v=s.key;c[v]=(c[v]||0)+1});var p=Object.keys(c).filter(function(s){return c[s]>1});return p.forEach(function(s){n=n.filter(function(v){var f=v.key,l=v.status;return f!==s||l!==me}),n.forEach(function(v){v.key===s&&(v.status=de)})}),n}var wt=["component","children","onVisibleChanged","onAllRemoved"],Ot=["status"],Nt=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function Vt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xt,n=function(r){De(i,r);var a=Ue(i);function i(){var u;je(this,i);for(var c=arguments.length,p=new Array(c),s=0;s<c;s++)p[s]=arguments[s];return u=a.call.apply(a,[this].concat(p)),A(Le(u),"state",{keyEntities:[]}),A(Le(u),"removeKey",function(v){u.setState(function(f){var l=f.keyEntities.map(function(m){return m.key!==v?m:d(d({},m),{},{status:ue})});return{keyEntities:l}},function(){var f=u.state.keyEntities,l=f.filter(function(m){var S=m.status;return S!==ue}).length;l===0&&u.props.onAllRemoved&&u.props.onAllRemoved()})}),u}return Fe(i,[{key:"render",value:function(){var c=this,p=this.state.keyEntities,s=this.props,v=s.component,f=s.children,l=s.onVisibleChanged;s.onAllRemoved;var m=ce(s,wt),S=v||o.Fragment,C={};return Nt.forEach(function(y){C[y]=m[y],delete m[y]}),delete m.keys,o.createElement(S,m,p.map(function(y,b){var M=y.status,x=ce(y,Ot),H=M===le||M===de;return o.createElement(t,vt({},C,{key:x.key,visible:H,eventProps:x,onVisibleChanged:function(R){l==null||l(R,{key:x.key}),R||c.removeKey(x.key)}}),function(w,R){return f(d(d({},w),{},{index:b}),R)})}))}}],[{key:"getDerivedStateFromProps",value:function(c,p){var s=c.keys,v=p.keyEntities,f=pe(s),l=Mt(v,f);return{keyEntities:l.filter(function(m){var S=v.find(function(C){var y=C.key;return m.key===y});return!(S&&S.status===ue&&m.status===me)})}}}]),i}(o.Component);return A(n,"defaultProps",{component:"div"}),n}const Kt=Vt(Be);export{xt as C,It as M,be as S,ce as _,fe as a,jt as b,Kt as c,dt as f,lt as g,ke as i,ve as u,se as w};
